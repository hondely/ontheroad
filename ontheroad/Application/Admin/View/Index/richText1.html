<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link href="__PUBLIC__/Admin/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="__PUBLIC__/Admin/bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css" />
    <link href="__PUBLIC__/Admin/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
    <link href="__PUBLIC__/Admin/summernote/summernote.css" rel="stylesheet" type="text/css"/>


    <title>summernote</title>
</head>
<body>
<div id="summernote">
</div>
<button class="btn btn-lg btn-danger " type="submit" onclick="submit()">提交</button>

<script type="text/javascript" src="__PUBLIC__/Admin/js/base64.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/jquery/jquery.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/summernote/summernote.js"></script>
<script type="text/javascript" src="__PUBLIC__/Admin/summernote/lang/summernote.js"></script>
<script >
    $(document).ready(function() {
        $('#summernote').summernote({
            height: 200,
            onImageUpload: function(files, editor, welEditable) {
                sendFile(files[0], editor, welEditable);
            }
        });
        function sendFile(file, editor, welEditable) {
            alert("3");
        }
    });

    function submit()
    {
        var content = $('#summernote').summernote('code');
        data = new FormData();
       // content= BASE64.encoder(content);
        data.append("content", content);

        alert('23');
        $.ajax({
            data: data,
            type: "POST",
            url: "{:U('saveRichText')}",
            cache: false,
            contentType: false,
            processData: false,
            success: function(ret) {
//                editor.insertImage(welEditable, url);
                alert(ret);
            }
        });
    }
</script>
</body>
</html>



